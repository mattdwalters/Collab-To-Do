<!DOCTYPE html>

<html>
    <head>
        <title>To do list</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script type="text/javascript" src="../static/scripts.js"></script>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
        <link href='https://fonts.googleapis.com/css?family=Lobster' rel='stylesheet'>
        <link href="https://fonts.googleapis.com/css?family=Raleway|Montserrat" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="../static/style.css">
    </head>
    <style>
    h1, h3 {
        font-family: "Raleway";
        color: black;
    }

    body {
        padding-left: 2em;
        padding-top: 2em;
        color: black;
    }

    button {
        color: black !important;
    }

    table {
        font-family: "Montserrat";
    }

    thead td {
        font-weight: 900;
    }

    </style>
    
    <body>
        <button type = "button" class = "btn"><a style = "color: black; text-decoration: none;" href = "{{ url_for('home') }}">Back</a></button>

        <h1>To Do List</h1>
        <h3>Group code: #{{ group_code }}<h3>

        <table class = "table">
            <thead>
                <th>Name</th>
                <th>To Do</th>
                <th></th>
            </thead>
             
            {% for row in todo_list %}
                <tr>
                   <td>{{ row["author"] }}</td>
                   <td>{{ row["itemname"] }}</td>
                   <td>
                        <form action="{{ url_for('delete_todo') }}" method="post">
                            <input type="hidden" name="iid" value="{{ row.iid }}">
                            <input type="hidden" name="gid" value="{{ row.gid }}">
                            <button type="submit">&#x2713;</button>
                        </form>
                   </td>
                </tr>
            {% endfor %}
        </table>
        <button type="button" class="btn" data-toggle="modal" data-target="#newToDo">+</button>

        <div class="modal fade" id="newToDo" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">To Do</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <form method="post">
                        To do: <input name="itemname" type="text" value="{{ request.form.itemname }}"><br>
                        Location: <input name="location" type="text" value="{{ request.form.location }}"><br>
                        Repeat: <select name="repeat" value="{{ request.form.repeat }}">
                            <option value="daily">Daily</option>
                            <option value="weekly">Weekly</option>
                            <option value="monthly">Monthly</option>
                            <option value="custom">Custom</option>
                        </select>
                        <button type="submit" class="btn btn-default">Done</button>
                    </form>
                </div>
            </div>
        </div>  
    </body>
</html>